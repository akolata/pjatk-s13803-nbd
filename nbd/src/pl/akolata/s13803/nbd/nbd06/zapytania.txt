1.
MATCH p=shortestPath((d:town {name:'Darjeeling'})-[*]->(s:peak {name:'Sandakphu'})) RETURN p
2.
MATCH p=shortestPath((d:town {name:'Darjeeling'})-[*]->(s:peak {name:'Sandakphu'}))
WHERE ALL(r in relationships(p) WHERE r.winter= 'true')
RETURN p
3.
MATCH p=(d:town {name:'Darjeeling'})-[*]->(s:peak {name:'Sandakphu'})
WITH reduce(total=0, r IN relationships(p) | total + r.distance) AS d, p
ORDER BY d
RETURN p, d
4.
MATCH (f:Flight)-[:ORIGIN]->(a:Airport)
WITH a, count(f) as flightsOriginCount
ORDER BY flightsOriginCount
RETURN a, flightsOriginCount

5.
MATCH (origin:Airport)<-[:ORIGIN]-(flight:Flight)-[:DESTINATION]->(destination:Airport), (flight)<-[:ASSIGN]-(ticket:Ticket)
WITH origin,destination,flight,ticket
CREATE (origin)-[r:FLIGHT_TICKET {price: ticket.price, class:ticket.class, origin: origin.name, destination: destination.name}]->(destination)
RETURN r;

MATCH p=(origin: Airport {name: 'LAX'})-[:FLIGHT_TICKET*1..3]->(destination: Airport)
WITH reduce(totalPrice=0, r IN relationships(p) | totalPrice + r.price) AS totalPrice, p
  ORDER BY totalPrice DESC
  WHERE totalPrice < 3000
  AND destination.name <> 'LAX'
  AND all(i IN relationships(p) WHERE i.destination <> 'LAX')
RETURN p, totalPrice

9.
MATCH (origin:Airport)<-[:ORIGIN]-(flight:Flight)-[:DESTINATION]->(destination:Airport)
UNWIND [origin, destination] as airportTuple
RETURN flight.airline as airline, count(distinct airportTuple) as airportTuple
